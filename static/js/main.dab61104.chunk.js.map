{"version":3,"sources":["Components/imageGalleryItem/Image.module.css","Components/modal/Modal.module.css","Components/imageGallery/ImageGallery.module.css","Components/button/Button.module.css","Components/searchbar/Searchbar.module.css","Components/searchbar/Searchbar.js","services/ApiServices.js","Components/imageGalleryItem/ImageGalleryItem.js","Components/imageGallery/ImageGallery.js","Components/modal/Modal.js","Components/button/Button.js","Components/loader/Loader.js","Components/App.js","index.js"],"names":["module","exports","Searchbar","onSubmit","useState","find","setFind","className","s","SearchForm","e","preventDefault","type","SearchForm_button","SearchForm_button_label","SearchForm_input","autoComplete","autoFocus","placeholder","onChange","target","value","BASE_URL","API_KEY","ImageGalleryItem","image","largeImg","onPictureOpen","onClick","src","alt","ImageGalleryItem_image","ImageGallery","gallery","map","hit","webformatURL","largeImageURL","id","modal","document","querySelector","Modal","onClose","largeImage","onEsc","code","useEffect","window","addEventListener","removeEventListener","createPortal","Overlay","currentTarget","Button","getPhoto","App","color","height","width","timeout","React","Component","setGallery","page","setPage","totalItems","setTotalItems","setLargeImageURL","showModal","setShowModal","isLoading","setIsLoading","makeGallery","findPicture","axios","get","then","res","data","hits","total","scroll","length","alert","catch","error","message","finally","scrollTo","top","documentElement","scrollHeight","behavior","toggleModal","Math","ceil","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.dab61104.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"Image_ImageGalleryItem__Kqd4l\",\"ImageGalleryItem_image\":\"Image_ImageGalleryItem_image__2Uxv6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2KXiU\",\"Modal\":\"Modal_Modal__Gf3JJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__3V9HV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__2UFZa\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__1DizO\",\"SearchForm\":\"Searchbar_SearchForm__2l68T\",\"SearchForm_button\":\"Searchbar_SearchForm_button__PS4sH\",\"SearchForm_button_label\":\"Searchbar_SearchForm_button_label__1zo9a\",\"SearchForm_input\":\"Searchbar_SearchForm_input__3cOon\"};","import React, { useState } from \"react\";\nimport PropTypes from \"prop-types\";\nimport s from \"./Searchbar.module.css\";\nconst Searchbar = ({ onSubmit }) => {\n  const [find, setFind] = useState(\"\");\n\n  const handleSearchForm = (e) => {\n    e.preventDefault();\n    onSubmit(find);\n    setFind(\"\");\n  };\n\n  const handleInputChange = (e) => {\n    setFind(e.target.value);\n  };\n\n  return (\n    <header className={s.Searchbar}>\n      <form className={s.SearchForm} onSubmit={handleSearchForm}>\n        <button type=\"submit\" className={s.SearchForm_button}>\n          <span className={s.SearchForm_button_label}>Search</span>\n        </button>\n\n        <input\n          className={s.SearchForm_input}\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search images and photos\"\n          onChange={handleInputChange}\n          value={find}\n        />\n      </form>\n    </header>\n  );\n};\n\nexport default Searchbar;\n\nSearchbar.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n","import axios from \"axios\";\n\nconst BASE_URL = \"https://pixabay.com/api/\";\nconst API_KEY = \"23383407-e7cc8d35786a3d378c61a119c\";\n\nexport const getPhoto = (findPicture, page = 1) => {\n  return axios\n    .get(\n      `${BASE_URL}?q=${findPicture}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`\n    )\n    .then((res) => res.data);\n};\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport s from \"./Image.module.css\";\n\nconst ImageGalleryItem = ({ image, largeImg, onPictureOpen }) => {\n  return (\n    <li\n      className={s.ImageGalleryItem}\n      onClick={() => {\n        onPictureOpen(largeImg);\n      }}\n    >\n      <img src={image} alt=\"#\" className={s.ImageGalleryItem_image} />\n    </li>\n  );\n};\n\nexport default ImageGalleryItem;\n\nImageGalleryItem.propTypes = {\n  image: PropTypes.string.isRequired,\n  largeImg: PropTypes.string.isRequired,\n  onPictureOpen: PropTypes.func.isRequired,\n};\n","import React from \"react\";\nimport ImageGalleryItem from \"../imageGalleryItem/ImageGalleryItem\";\nimport PropTypes from \"prop-types\";\nimport s from \"./ImageGallery.module.css\";\n\nconst ImageGallery = ({ gallery, onPictureOpen }) => {\n  return (\n    <ul className={s.ImageGallery}>\n      {gallery.map((hit) => (\n        <ImageGalleryItem\n          key={hit.id}\n          image={hit.webformatURL}\n          largeImg={hit.largeImageURL}\n          onPictureOpen={onPictureOpen}\n        />\n      ))}\n    </ul>\n  );\n};\n\nexport default ImageGallery;\n\nImageGallery.propTypes = {\n  gallery: PropTypes.array.isRequired,\n  onPictureOpen: PropTypes.func.isRequired,\n};\n","import React, { useEffect } from \"react\";\nimport { createPortal } from \"react-dom\";\nimport PropTypes from \"prop-types\";\nimport s from \"./Modal.module.css\";\n\nconst modal = document.querySelector(\"#modal\");\n\nconst Modal = ({ onClose, largeImage }) => {\n  const onEsc = (e) => {\n    if (e.code === \"Escape\") {\n      onClose();\n    }\n  };\n\n  const onBackdrop = (e) => {\n    if (e.currentTarget === e.target) {\n      onClose();\n    }\n  };\n\n  useEffect(() => {\n    window.addEventListener(\"keydown\", onEsc);\n    return () => {\n      window.removeEventListener(\"keydown\", onEsc);\n    };\n  });\n\n  return createPortal(\n    <div className={s.Overlay} onClick={onBackdrop}>\n      <div className={s.Modal}>\n        <img src={largeImage} alt=\"#\" />\n      </div>\n    </div>,\n    modal\n  );\n};\n\nexport default Modal;\n\nModal.propTypes = {\n  largeImage: PropTypes.string.isRequired,\n  onClose: PropTypes.func.isRequired,\n};\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport s from \"./Button.module.css\";\n\nconst Button = ({ getPhoto }) => {\n  return (\n    <button type=\"button\" onClick={getPhoto} className={s.Button}>\n      Load more\n    </button>\n  );\n};\n\nexport default Button;\n\nButton.propTypes = {\n  getPhoto: PropTypes.func.isRequired,\n};\n","import React from \"react\";\nimport Loader from \"react-loader-spinner\";\n\nexport default class App extends React.Component {\n  render() {\n    return (\n      <Loader\n        type=\"threeDots\"\n        color=\"blue\"\n        height={70}\n        width={100}\n        timeout={4000}\n      />\n    );\n  }\n}\n","import React, { useState, useEffect } from \"react\";\nimport Searchbar from \"./searchbar/Searchbar\";\nimport { getPhoto } from \"../services/ApiServices\";\nimport ImageGallery from \"./imageGallery/ImageGallery\";\nimport Modal from \"./modal/Modal\";\nimport Button from \"./button/Button\";\nimport Loader from \"./loader/Loader\";\nimport \"./App.css\";\n\nconst App = () => {\n  const [find, setFind] = useState(\"\");\n  const [gallery, setGallery] = useState([]);\n  const [page, setPage] = useState(1);\n  const [totalItems, setTotalItems] = useState(0);\n  const [largeImageURL, setLargeImageURL] = useState({});\n  const [showModal, setShowModal] = useState(false);\n  const [isLoading, setIsLoading] = useState(false);\n\n  useEffect(() => {\n    if (!find) {\n      return;\n    }\n\n    setGallery([]);\n    makeGallery();\n  }, [find]);\n\n  const makeGallery = () => {\n    setIsLoading(true);\n\n    getPhoto(find, page)\n      .then(({ hits, total }) => {\n        setGallery([...gallery, ...hits]);\n        setPage(page + 1);\n        setTotalItems(total);\n\n        if (page !== 1) {\n          scroll();\n        }\n        if (hits.length === 0) {\n          alert(\"There are no pictures\");\n        }\n      })\n      .catch((error) => alert(error.message))\n      .finally(() => setIsLoading(false));\n  };\n\n  const onFormSubmit = (find) => {\n    setGallery([]);\n    setFind(find);\n    setPage(1);\n  };\n\n  const scroll = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: \"smooth\",\n    });\n  };\n\n  const toggleModal = () => {\n    setShowModal(!showModal);\n  };\n\n  const showBtnLoadMore = () => {\n    return Math.ceil(totalItems / 12) !== page - 1;\n  };\n\n  const onPictureOpen = (largeImage) => {\n    setLargeImageURL(largeImage);\n    toggleModal();\n  };\n\n  return (\n    <>\n      <Searchbar onSubmit={onFormSubmit} />\n\n      {gallery.length !== 0 && (\n        <ImageGallery gallery={gallery} onPictureOpen={onPictureOpen} />\n      )}\n      {showModal && <Modal onClose={toggleModal} largeImage={largeImageURL} />}\n      {isLoading && <Loader />}\n      {showBtnLoadMore() && totalItems !== 0 && (\n        <Button getPhoto={makeGallery} />\n      )}\n    </>\n  );\n};\n\nexport default App;\n","import ReactDOM from \"react-dom\";\nimport App from \"./Components/App\";\nimport \"./index.css\";\n\nReactDOM.render(\n  <>\n    <App />\n  </>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}